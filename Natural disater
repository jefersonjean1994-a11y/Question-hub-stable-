local player = game.Players.LocalPlayer

local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({
    Name = "Rhubarb",
    LoadingTitle = "Rhubarb Hub",
    LoadingSubtitle = "by You",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "Rhubarb",
        FileName = "Config"
    },
    Discord = {
        Enabled = true,
        Invite = "nQmMAKMCd",
        RememberJoins = true
    },
    KeySystem = true,
    KeySettings = {
        Title = "Rhubarb Hub Key System",
        Subtitle = "Join Discord to get key",
        Note = "Key is in the Discord",
        FileName = "RhubarbKey",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {"2for4people"}
    }
})

if setclipboard then
    setclipboard("2for4people")
end

Rayfield:Notify({
    Title = "Key Copied!",
    Content = "The key has been copied to your clipboard ‚úÖ",
    Duration = 5,
    Image = 4483345998
})

Rayfield:Notify({
    Title = "Thanks for using Rhubarb Hub!",
    Content = "If you like the script, follow and like it üòÅ",
    Duration = 6,
    Image = 4483345998
})

-- MAIN TAB
local MainTab = Window:CreateTab("Main", 4483345998)
MainTab:CreateSection("Movement")

MainTab:CreateSlider({
    Name = "WalkSpeed",
    Range = {0, 200},
    Increment = 1,
    Suffix = "Speed",
    CurrentValue = 16,
    Callback = function(Value)
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.WalkSpeed = Value
        end
    end
})

MainTab:CreateSlider({
    Name = "JumpPower",
    Range = {0, 150},
    Increment = 1,
    Suffix = "Jump",
    CurrentValue = 50,
    Callback = function(Value)
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.JumpPower = Value
        end
    end
})

local noFallConnection = nil
local charConnection = nil

MainTab:CreateToggle({
    Name = "No Fall Damage",
    CurrentValue = false,
    Callback = function(Value)
        local lp = game.Players.LocalPlayer
        if Value then
            if game.PlaceId ~= 189707 then
                warn("Not Natural Disaster Survival!")
                return
            end

            local rs = game:GetService("RunService")
            local hb = rs.Heartbeat
            local rsd = rs.RenderStepped
            local z = Vector3.zero

            local function setup(char)
                local r = char:WaitForChild("HumanoidRootPart")
                if noFallConnection then noFallConnection:Disconnect() end

                noFallConnection = hb:Connect(function()
                    if not r or not r.Parent then return end
                    local v = r.AssemblyLinearVelocity
                    r.AssemblyLinearVelocity = z
                    rsd:Wait()
                    r.AssemblyLinearVelocity = v
                end)
            end

            if lp.Character then setup(lp.Character) end
            if charConnection then charConnection:Disconnect() end
            charConnection = lp.CharacterAdded:Connect(setup)

        else
            if noFallConnection then noFallConnection:Disconnect() end
            if charConnection then charConnection:Disconnect() end
        end
    end
})

MainTab:CreateButton({
    Name = "Black Hole",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/diraDJ83/black-hole/refs/heads/main/trou%20noir.lua"))()
    end
})

-- AUTO WIN TAB
local AutoTab = Window:CreateTab("Auto Win", 4483345998)
local autoWinRunning = false

AutoTab:CreateToggle({
    Name = "Auto Win",
    CurrentValue = false,
    Callback = function(Value)
        autoWinRunning = Value
        if Value then
            task.spawn(function()
                local Players = game:GetService("Players")
                local RunService = game:GetService("RunService")
                local player = Players.LocalPlayer
                local character = player.Character or player.CharacterAdded:Wait()
                local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

                RunService.Stepped:Connect(function()
                    if autoWinRunning then
                        for _, part in ipairs(character:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end
                    end
                end)

                humanoidRootPart.Anchored = true

                while autoWinRunning do
                    humanoidRootPart.CFrame = CFrame.new(-280, 147, 342)
                    task.wait(0.01)
                end

                humanoidRootPart.Anchored = false
            end)
        end
    end
})

-- TROLL TAB
local TrollTab = Window:CreateTab("Troll", 4483345998)

TrollTab:CreateButton({
    Name = "Susy hub",
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-*-MACHINE-V2-67703"))()
    end
})

TrollTab:CreateButton({
    Name = "Fling player",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/K1LAS1K/Ultimate-Fling-GUI/main/flingscript.lua"))()
    end
})

TrollTab:CreateButton({
    Name = "Bypasser",
    Callback = function()
        loadstring(game:HttpGet("https://pastefy.app/yTtsgL2T/raw"))()
    end
})

-- FLY GUI (FIXED)

TrollTab:CreateButton({
    Name = "Fly GUI",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
    end
})
